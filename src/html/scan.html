<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>AI page</title>
  <link href="/css/home-page.css" rel="stylesheet" type="text/css" />
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
  <link rel="manifest" href="../manifest.json">
</head>

<!-- this is how I am doing the img for now. idk how its saved on phones but if it just goes to a file then the file can just be put here and it will work. I assume phones by defult take images the same size as (or larger than) the screen, so it will look better w/ a real img. This img is too small and had to be streched. -->

<body onload="custom_onload()">
  <div id="bg-img" class="bg-img" style="background-image: url(/imgs/fake-img.png);"></div>

  <!-- change top and left like coord system to move the boxes -->
  <a class="hlb-box" style="top: 102px; left: 41px;">
    <img src="/imgs/highlight-box.png" style="width: 50px; height: 50px;">
  </a>

  <a class="hlb-box" style="top: 309px; left: 200px;">
    <img src="/imgs/highlight-box.png" style="width: 50px; height: 50px;">
  </a>

  <!-- spinny thing -->
  <iconify-icon id="loading-circle" icon="line-md:loading-twotone-loop" width="50" height="50" class="loading-icon"></iconify-icon>
  

  <div id="mat-id" class="flex-col popup-box">
    <img src="/imgs/check-icon.png" style="width: 40px;">
    <div class="heading-1 pub-text">
      Material Identified
    </div>
    <div class="light-text pub-text">
      Click the arrow to see your results, track your items, and get one step closer to meeting your recycling goals!
    </div>
    <div id="load-plastic" class="flex-row pub-btn">
      <div class="light-text pub-btn-text">
        See results
      </div>
      <img src="/imgs/arrow.png" style="height: 15px;">
    </div>
  </div>


  
  <div id="plastic" class="flex-col popup-box pub-id-box">
    <div class="flex-row" style="margin-left: 45px;">
      <img src="/imgs/bin-icon.png" style="width: 25px;">
      <div class="heading-1 pub-id-head">
        Plastic
      </div>
    </div>
    <div class="light-text pub-id-text">
      Recycle clean hard plastics but not soft/dirty plastics.
    </div>
    <!-- this btn just does nothing for now -->
    <a class="flex-row pub-id-lg-btn" href="">
      <div class="pub-id-lg-btn-txt">
        Track Item
      </div>
    </a>
    <div class="flex-row pub-id-btn-box">
      <div id="load-mat-id" class="flex-row pub-btn pub-id-btn">
        <img src="/imgs/arrow.png" style="height: 15px; rotate: 180deg;">
        <div class="light-text pub-btn-text">
          Back
        </div>
      </div>
      <div id="load-metal" class="flex-row pub-btn pub-id-btn">
        <div class="light-text pub-btn-text">
          Next
        </div>
        <img src="/imgs/arrow.png" style="height: 15px;">
      </div>
    </div>
  </div>

  

  <div id="metal" class="flex-col popup-box pub-id-box">
    <div class="flex-row" style="margin-left: 45px;">
      <img src="/imgs/hammer-icon.png" style="width: 25px;">
      <div class="heading-1 pub-id-head">
        Metal
      </div>
    </div>
    <div class="light-text pub-id-text">
      Recycle all metal except tin foil and metal wrappers
    </div>
    <!-- this btn just does nothing for now -->
    <a class="flex-row pub-id-lg-btn" href="">
      <div class="pub-id-lg-btn-txt">
        Track Item
      </div>
    </a>
    <div class="flex-row pub-id-btn-box">
      <div id="load-plastic_2" class="flex-row pub-btn pub-id-btn">
        <img src="/imgs/arrow.png" style="height: 15px; rotate: 180deg;">
        <div class="light-text pub-btn-text">
          Back
        </div>
      </div>
      <div id="load-finish" class="flex-row pub-btn pub-id-btn">
        <div class="light-text pub-btn-text">
          Next
        </div>
        <img src="/imgs/arrow.png" style="height: 15px;">
      </div>
    </div>
  </div>



  <div id="finish" class="flex-col popup-box">
    <img src="/imgs/check-icon.png" style="width: 40px;">
    <div class="heading-1 pub-text">
      You're all done!
    </div>
    <div class="light-text pub-text">
      Nice job! You’ve made the world a better place by recycling correctly. Make sure to check for any new badges
      you’ve earned under the “my rewards” section.
    </div>
    <a href="/html/home.html" class="flex-row pub-btn">
      <img src="/imgs/arrow.png" style="height: 15px; rotate: 180deg;">
      <div class="light-text pub-btn-text">
        Back to home
      </div>
    </a>
  </div>






  <!-- funny script to make stuff appear and dissapear (+more now) -->
  <script>
    const loading_circle = document.getElementById("loading-circle");
    const bg_img = document.getElementById("bg-img")
    
    const mat_id = document.getElementById("mat-id");
    const plastic = document.getElementById("plastic");
    const metal = document.getElementById("metal");
    const finish = document.getElementById("finish");

    const load_mat_id = document.getElementById("load-mat-id");
    const load_plastic = document.getElementById("load-plastic");
    const load_metal = document.getElementById("load-metal");
    const load_finish = document.getElementById("load-finish");
    const load_plastic_2 = document.getElementById("load-plastic_2");

    var current_up = mat_id;

    /* relic of the past
    
    function hide_all() {
      mat_id.style.display = "none";
      plastic.style.display = "none";
      metal.style.display = "none";
      finish.style.display = "none";
    }
    
    */

    function custom_onload() {
      // just a 3s wait upon page load for 'processing time' remove this entirely in final product
      setTimeout(() => { done_processing() }, 3000)
    }

    // call this when ai is done processing
    function done_processing () {
      bg_img.style.animation = "bg-img-ani 0.5s forwards";
      mat_id.style.animation = "popup-box-ani 0.5s forwards";
      loading_circle.style.display = "none";
    }

    function swap_pob(next) {
      current_up.style.animation = "popup-box-ani-rev 0.5s";    
      
      next.style.animation = "popup-box-ani 0.5s forwards"; 

      current_up = next;
    }


    load_mat_id.onclick = function () {
      swap_pob(mat_id)
    };

    load_plastic.onclick = function () {
      swap_pob(plastic)
    };

    load_metal.onclick = function () {
      swap_pob(metal)
    };

    load_finish.onclick = function () {
      swap_pob(finish)
    };

    load_plastic_2.onclick = function () {
      swap_pob(plastic)
    };


  </script>

</body>